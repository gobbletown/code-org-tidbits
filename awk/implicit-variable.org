* awk
#+NAME: data1
#+BEGIN_SRC text -n :async :results verbatim code
  Beth 4.00 0
  Dan 3.75 0
  Kathy 4.00 10
  Mark 5.00 20
  Mary 5.50 22
#+END_SRC

As soon as I write =emp=, awk creates it. No need to declare it.

#+BEGIN_SRC bash -n :i bash :async :results verbatim code :inb data1
  awk "{emp = emp + 1} END {printf("found %d many employees\\n", emp)}"
#+END_SRC

#+RESULTS:
#+begin_src bash
awk: cmd. line:2: {emp = emp + 1} END {printf(found
awk: cmd. line:2:                                  ^ unexpected newline or end of string
#+end_src

#+BEGIN_SRC bash -n :i bash :async :results verbatim code :inb data1
  awk '$2 * $3 > 50 { printf("%s made %.2f dollars\n", $1, $2*$3) }'
#+END_SRC

#+RESULTS:
#+begin_src bash
Mark made 100.00 dollars
Mary made 121.00 dollars
#+end_src
